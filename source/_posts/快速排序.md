---
title: 快速排序
categories:
  - 基础算法
  - 竞赛
  - 竞赛模板
tags:
  - 快速排序
  - c++
abbrlink: 11306
date: 2021-10-18 19:50:12
---

### 快速排序

使用`c++`时，用`scanf()`，不要用`cin`，`cin`效率低。<!-- more -->

[可用于计算一个数列第k大数]()

#### 主要思想：

1. 分治思想

* 随意取一个数 `x`，常用是最左边`l`，最右边`r`，或者中间`(l+r) >> 1`
* **调整区间： 让 `<=x`数在x的左边，让`>=x`在x的右边 (升序)**
* 递归处理左两个区间

2. 调整区间方法(暴力法)
   * 构造两个数组a,b
   * 将原数组q中的>=x的数放入a数组中，将<=x的数放入b数组中
   * 最后将a、b数组中的值依次赋值给q数组
3. 调整区间(优美法，无需开辟新空间)
   * 设置两个指针`i,j`
   * `i`指向数组头 - 1，`j`指向数组尾部 + 1
   * 然后判断`q[++i]` 是否大于`x`，如果不大于，则++，否则停下； 然后判断`q[--j]`，如果其值`>= x`，则`j--`，直到`q[j]` 小于 `x`，交换`i , j`指向数组的两个值；
   * 不断重复步骤3，**直到`i >= j`时**,停止

### 代码模板

```java
Quick_sort(int a[], int l , int r){   // l为数组首地址 ， r为数组尾地址
    if( l >= r)  return ;
    
    int x = a[l] , i = l - 1 , j = r + 1;
    while(i < j){
        do i++ ; while(a[i] < x) ;
        do j-- ; while(a[j] > x) ;
        swap(a[i],a[j]);
    }
    
    Quick_sort(a,l,j);
    Quick_sort(a,j+1,r);
    
}
```

